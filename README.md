# 新闻发布会

模仿QQ新闻完成新闻后台发布和前台浏览。

 - 管理员对新闻分类管理，新建、编辑。
 
 - 实现不同的权限授权，若干个新闻编辑，可以在一个或几个分类中发布、编辑、删除新闻（日期、主题、内容、发布者）。
 
 - 实现新闻的搜索及搜索结果显示，在标题或在内容中模糊查找。
 
 - 普通用户浏览，注册用户登录、之后可浏览、收藏、发表评论。可以查看收藏和浏览历史。新闻的分类、分页显示。
 
 - 选做，新闻中可以包含图片。
 
# 数据库表
 
## 用户表

 主键ID  id 自增 唯一
 
 用户名称 username 不同
 
 用户性别 sex m or w
 
 用户身份 identity in (editor, user, administrator)
 
 ```$xslt
 create table user (
   ID INTEGER GENERATED BY DEFAULT AS IDENTITY,
   primary key (ID),
   USERNAME varchar(20) unique not null ,
   SEX varchar(20) not null ,
   USER_IDENTITY varchar(20) not null,
   check (sex in ('m' , 'w'))
 );
```

 
## 新闻类别表

主键ID id 自增　唯一

类型 非空　唯一

```$xslt
create table type(
  ID INTEGER GENERATED BY DEFAULT AS IDENTITY,
  primary key (ID),
  type varchar(20) default '默认' unique not null
);
```
 
## 新闻表

主键ID  id 自增　唯一

新闻标题 title 非空

新闻内容 content 非空

发布时间 time 时间

新闻类别 type 外键

发布者 publisher 外键　用户

浏览量　views 整型 

```$xslt
create table news(

  ID INTEGER GENERATED BY DEFAULT AS IDENTITY,

  primary key (ID),

  title varchar(30) not null ,

  content varchar(1000) not null ,

  datetime datetime default now(),

  news_type INTEGER not null ,

  publisher integer not null ,

  constraint news foreign key (publisher) references user(id) on delete cascade,

  foreign key (news_type) references type(id) on delete cascade,

  views integer default 0
);
```
 
## 收藏表

主键ID id 自增　唯一

收藏者 collector 外键　用户

收藏文章 news 外键 新闻

```$xslt
create table collect (
  ID INTEGER GENERATED BY DEFAULT AS IDENTITY,
  primary key (ID),
  user_id integer not null ,
  news_id integer not null ,
  constraint collect foreign key (user_id) references user(id) on delete cascade,
  foreign key (news_id) references NEWS(id) on delete cascade
);
```
 
## 评论表

主键ID id 自增　唯一

评论者 commentator 外键 用户

被评论的文章 news 外键　新闻

```$xslt
create table comment(
  ID INTEGER GENERATED BY DEFAULT AS IDENTITY,
  primary key (ID),
  commentator integer not null ,
  news integer not null ,
  constraint comment foreign key (commentator) references user(id) on delete cascade,
  foreign key (news) references NEWS(id) on delete cascade
);
```
  
## 浏览表

主键ID id 主键　唯一

浏览者 browser 外键　用户

浏览内容 info 自定义

```$xslt
create table browser (
  ID INTEGER GENERATED BY DEFAULT AS IDENTITY,
  primary key (ID),
  browser integer not null,
  info varchar(100) not null ,
  constraint browser foreign key (browser) references user(id) on delete cascade
);
```